@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@model web_app.Models.View.Home.Index
@{
    ViewData["Title"] = "Home Page";
}


@if (SignInManager.IsSignedIn(User))
{
    @if (Model.AspNetUser is not null && Model.AspNetUser.Id is not null)
    {
        <partial name="/Views/Shared/_AuthNavPartial.cshtml" />
        <div class="text-center">
            <h1 class="display-4">Welcome @Model.AspNetUser.NormalizedUserName</h1>
            <p>User ID is @Model.AspNetUser.Id</p>
            <p>Your associated email is @Model.AspNetUser.Email</p>
            <a href="/Identity/Account/Logout">Logout</a>
        </div>
        <a href="https://github.com/gayanvoice/web-app" class="mt-5 text-body-secondary">gayanvoice/web-app @@ GitHub</a>
        <p class="mb-3 text-body-secondary">Pizza Planet © 2023</p>
    }
    else
    {
        <div class="alert alert-danger" role="alert">
            User is already signed in. But no User ID. Contact Admin.
        </div>
    }
}